"use strict";(self.webpackChunkdrission_page_docs=self.webpackChunkdrission_page_docs||[]).push([[9223],{9215:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>o,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var s=r(5893),n=r(1151);const i={id:"requests",title:"\u2b50 \u4e0erequests\u5bf9\u6bd4"},o=void 0,a={id:"features/features_demos/requests",title:"\u2b50 \u4e0erequests\u5bf9\u6bd4",description:"\u4ee5\u4e0b\u4ee3\u7801\u5b9e\u73b0\u4e00\u6a21\u4e00\u6837\u7684\u529f\u80fd\uff0c\u5bf9\u6bd4\u4e24\u8005\u7684\u4ee3\u7801\u91cf\uff1a",source:"@site/docs/features/features_demos/compare_with_requests.md",sourceDirName:"features/features_demos",slug:"/features/features_demos/requests",permalink:"/drissionpagedocs/features/features_demos/requests",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"requests",title:"\u2b50 \u4e0erequests\u5bf9\u6bd4"},sidebar:"featuresSidebar",previous:{title:"\ud83d\udc96 \u8d34\u5fc3\u8bbe\u8ba1",permalink:"/drissionpagedocs/features/intimate"},next:{title:"\u2b50 \u4e0eselenium\u5bf9\u6bd4",permalink:"/drissionpagedocs/features/features_demos/selenium"}},u={},d=[];function c(e){const t={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"\u4ee5\u4e0b\u4ee3\u7801\u5b9e\u73b0\u4e00\u6a21\u4e00\u6837\u7684\u529f\u80fd\uff0c\u5bf9\u6bd4\u4e24\u8005\u7684\u4ee3\u7801\u91cf\uff1a"}),"\n",(0,s.jsx)(t.p,{children:"\ud83d\udd38 \u83b7\u53d6\u5143\u7d20\u5185\u5bb9"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"url = 'https://baike.baidu.com/item/python'\r\n\r\n# \u4f7f\u7528 requests\uff1a\r\nfrom lxml import etree\r\nheaders = {'User-Agent':'Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.118 Safari/537.36'}\r\nresponse = requests.get(url, headers = headers)\r\nhtml = etree.HTML(response.text)\r\nelement = html.xpath('//h1')[0]\r\ntitle = element.text\r\n\r\n# \u4f7f\u7528 DrissionPage\uff1a\r\npage = WebPage('s')\r\npage.get(url)\r\ntitle = page('tag:h1').text\n"})}),"\n",(0,s.jsx)(t.admonition,{title:"Tips",type:"tip",children:(0,s.jsx)(t.p,{children:"DrissionPage \u81ea\u5e26\u9ed8\u8ba4 headers"})}),"\n",(0,s.jsx)(t.p,{children:"\ud83d\udd38 \u4e0b\u8f7d\u6587\u4ef6"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"url = 'https://www.baidu.com/img/flexible/logo/pc/result.png'\r\nsave_path = r'C:\\download'\r\n\r\n# \u4f7f\u7528 requests\uff1a\r\nr = requests.get(url)\r\nwith open(f'{save_path}\\\\img.png', 'wb') as fd:\r\n   for chunk in r.iter_content():\r\n       fd.write(chunk)\r\n\r\n# \u4f7f\u7528 DrissionPage\uff1a\r\npage.download(url, save_path, 'img')  # \u652f\u6301\u91cd\u547d\u540d\uff0c\u5904\u7406\u6587\u4ef6\u540d\u51b2\u7a81\n"})})]})}function l(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},1151:(e,t,r)=>{r.d(t,{Z:()=>a,a:()=>o});var s=r(7294);const n={},i=s.createContext(n);function o(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);