"use strict";(self.webpackChunkdrission_page_docs=self.webpackChunkdrission_page_docs||[]).push([[6355],{3021:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>d,toc:()=>i});var t=n(5893),a=n(1151);const o={id:"maoyan",title:"\ud83e\udd6a \u91c7\u96c6\u732b\u773c\u7535\u5f71\u699c"},s=void 0,d={id:"demos/actual/maoyan",title:"\ud83e\udd6a \u91c7\u96c6\u732b\u773c\u7535\u5f71\u699c",description:"\u8fd9\u4e2a\u793a\u4f8b\u6f14\u793a\u7528\u6d4f\u89c8\u5668\u91c7\u96c6\u6570\u636e\u3002",source:"@site/docs/demos/actual/maoyan_TOP100.md",sourceDirName:"demos/actual",slug:"/demos/actual/maoyan",permalink:"/drissionpagedocs/demos/actual/maoyan",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"maoyan",title:"\ud83e\udd6a \u91c7\u96c6\u732b\u773c\u7535\u5f71\u699c"},sidebar:"demoSidebar",previous:{title:"\ud83e\udd6a \u81ea\u52a8\u767b\u5f55\u7801\u4e91",permalink:"/drissionpagedocs/demos/actual/gitee"},next:{title:"\ud83e\udd6a \u4e0b\u8f7d\u661f\u5df4\u514b\u4ea7\u54c1\u56fe\u7247",permalink:"/drissionpagedocs/demos/actual/starbucks"}},c={},i=[{value:"\u2705\ufe0f\ufe0f \u91c7\u96c6\u76ee\u6807",id:"\ufe0f\ufe0f-\u91c7\u96c6\u76ee\u6807",level:2},{value:"\u2705\ufe0f\ufe0f \u7f16\u7801\u601d\u8def",id:"\ufe0f\ufe0f-\u7f16\u7801\u601d\u8def",level:2},{value:"\u2705\ufe0f\ufe0f \u793a\u4f8b\u4ee3\u7801",id:"\ufe0f\ufe0f-\u793a\u4f8b\u4ee3\u7801",level:2},{value:"\u2705\ufe0f\ufe0f \u7ed3\u679c",id:"\ufe0f\ufe0f-\u7ed3\u679c",level:2}];function l(e){const r={a:"a",code:"code",h2:"h2",hr:"hr",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.p,{children:"\u8fd9\u4e2a\u793a\u4f8b\u6f14\u793a\u7528\u6d4f\u89c8\u5668\u91c7\u96c6\u6570\u636e\u3002"}),"\n",(0,t.jsx)(r.h2,{id:"\ufe0f\ufe0f-\u91c7\u96c6\u76ee\u6807",children:"\u2705\ufe0f\ufe0f \u91c7\u96c6\u76ee\u6807"}),"\n",(0,t.jsxs)(r.p,{children:["\u76ee\u6807\u7f51\u5740\uff1a",(0,t.jsx)(r.a,{href:"https://www.maoyan.com/board/4",children:"https://www.maoyan.com/board/4"})]}),"\n",(0,t.jsx)(r.p,{children:"\u91c7\u96c6\u76ee\u6807\uff1a\u6392\u540d\u3001\u7535\u5f71\u540d\u79f0\u3001\u6f14\u5458\u3001\u4e0a\u6620\u65f6\u95f4\u3001\u5206\u6570"}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"\ufe0f\ufe0f-\u7f16\u7801\u601d\u8def",children:"\u2705\ufe0f\ufe0f \u7f16\u7801\u601d\u8def"}),"\n",(0,t.jsxs)(r.p,{children:["\u6309",(0,t.jsx)(r.code,{children:"F12"}),"\uff0c\u53ef\u4ee5\u770b\u5230\u6bcf\u4e2a\u7535\u5f71\u4fe1\u606f\u90fd\u5305\u542b\u5728",(0,t.jsx)(r.code,{children:"<dd>"}),"\u5143\u7d20\u4e2d\uff0c\u56e0\u6b64\u53ef\u6279\u91cf\u83b7\u53d6",(0,t.jsx)(r.code,{children:"<dd>"}),"\u5143\u7d20\uff0c\u904d\u5386\u5b83\u4eec\u5e76\u518d\u4ece\u5176\u4e2d\u83b7\u53d6\u6bcf\u4e2a\u7535\u5f71\u7684\u4fe1\u606f\u3002"]}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"\ufe0f\ufe0f-\u793a\u4f8b\u4ee3\u7801",children:"\u2705\ufe0f\ufe0f \u793a\u4f8b\u4ee3\u7801"}),"\n",(0,t.jsx)(r.p,{children:"\u4ee5\u4e0b\u4ee3\u7801\u53ef\u76f4\u63a5\u8fd0\u884c\u3002"}),"\n",(0,t.jsxs)(r.p,{children:["\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u7528\u5230\u8bb0\u5f55\u5668\u5bf9\u8c61\uff0c\u8be6\u89c1",(0,t.jsx)(r.a,{href:"https://g1879.gitee.io/datarecorderdocs/",children:"DataRecorder"}),"\u3002"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"from DrissionPage import ChromiumPage\r\nfrom DataRecorder import Recorder\r\n\r\n# \u521b\u5efa\u9875\u9762\u5bf9\u8c61\r\npage = ChromiumPage()\r\n# \u521b\u5efa\u8bb0\u5f55\u5668\u5bf9\u8c61\r\nrecorder = Recorder('data.csv')\r\n# \u8bbf\u95ee\u7f51\u9875\r\npage.get('https://www.maoyan.com/board/4')\r\n\r\nwhile True:\r\n    # \u904d\u5386\u9875\u9762\u4e0a\u6240\u6709 dd \u5143\u7d20\r\n    for mov in page.eles('t:dd'):\r\n        # \u83b7\u53d6\u9700\u8981\u7684\u4fe1\u606f\r\n        num = mov('t:i').text\r\n        score = mov('.score').text\r\n        title = mov('@data-act=boarditem-click').attr('title')\r\n        star = mov('.star').text\r\n        time = mov('.releasetime').text\r\n        # \u5199\u5165\u5230\u8bb0\u5f55\u5668\r\n        recorder.add_data((num, title, star, time, score))\r\n\r\n    # \u83b7\u53d6\u4e0b\u4e00\u9875\u6309\u94ae\uff0c\u6709\u5c31\u70b9\u51fb\r\n    btn = page('\u4e0b\u4e00\u9875', timeout=2)\r\n    if btn:\r\n        btn.click()\r\n        page.wait.load_start()\r\n    # \u6ca1\u6709\u5219\u9000\u51fa\u7a0b\u5e8f\r\n    else:\r\n        break\r\n\r\nrecorder.record()\n"})}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"\ufe0f\ufe0f-\u7ed3\u679c",children:"\u2705\ufe0f\ufe0f \u7ed3\u679c"}),"\n",(0,t.jsx)(r.p,{children:"\u7a0b\u5e8f\u751f\u6210\u4e00\u4e2a\u7ed3\u679c\u6587\u4ef6 data.csv\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-csv",children:'1,\u6211\u4e0d\u662f\u836f\u795e,"\u4e3b\u6f14\uff1a\u5f90\u5ce5,\u5468\u4e00\u56f4,\u738b\u4f20\u541b",\u4e0a\u6620\u65f6\u95f4\uff1a2018-07-05,9.6\r\n2,\u8096\u7533\u514b\u7684\u6551\u8d4e,"\u4e3b\u6f14\uff1a\u8482\u59c6\xb7\u7f57\u5bbe\u65af,\u6469\u6839\xb7\u5f17\u91cc\u66fc,\u9c8d\u52c3\xb7\u5188\u987f",\u4e0a\u6620\u65f6\u95f4\uff1a1994-09-10(\u52a0\u62ff\u5927),9.5\r\n3,\u6d77\u4e0a\u94a2\u7434\u5e08,"\u4e3b\u6f14\uff1a\u8482\u59c6\xb7\u7f57\u65af,\u6bd4\u5c14\xb7\u52aa\u6069 ,\u514b\u5170\u4f26\u65af\xb7\u5a01\u5ec9\u59c6\u65af\u4e09\u4e16",\u4e0a\u6620\u65f6\u95f4\uff1a2019-11-15,9.3\r\n4,\u7eff\u76ae\u4e66,"\u4e3b\u6f14\uff1a\u7ef4\u679c\xb7\u83ab\u817e\u68ee,\u9a6c\u8d6b\u6c99\u62c9\xb7\u963f\u91cc,\u7433\u8fbe\xb7\u5361\u5fb7\u91cc\u5c3c",\u4e0a\u6620\u65f6\u95f4\uff1a2019-03-01,9.5\r\n5,\u9738\u738b\u522b\u59ec,"\u4e3b\u6f14\uff1a\u5f20\u56fd\u8363,\u5f20\u4e30\u6bc5,\u5de9\u4fd0",\u4e0a\u6620\u65f6\u95f4\uff1a1993-07-26,9.4\r\n\r\n\u4e0b\u9762\u7701\u7565\u3002\u3002\u3002\n'})})]})}function m(e={}){const{wrapper:r}={...(0,a.a)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},1151:(e,r,n)=>{n.d(r,{Z:()=>d,a:()=>s});var t=n(7294);const a={},o=t.createContext(a);function s(e){const r=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(o.Provider,{value:r},e.children)}}}]);